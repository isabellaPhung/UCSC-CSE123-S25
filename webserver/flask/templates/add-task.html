<!DOCTYPE html> html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name ="viewport" content="width=device-width, initial-scale=1.0">
        <title>Add New Task</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                margin: 0;
                padding: 20px;
                max-width: 600px;
                margin: 0 auto;
            }

            h1 {
                text-align: center;
                margin-bottom: 20px
            }
            .form-group {
                margin-bottom: 20px;
            }
            
            label {
                display: block;
                margin-bottom: 5px;
                font-weight: bold;
            }

            input, textarea, select {
                width: 100%
                padding: 10px;
                border: 1px solid #ccc;
                border-radius: 4px;
                font-family: inherit;
                font-size: inherit;
            }

            textarea {
                min-height: 100px;
                resize: vertical;
            }

            .button-group {
                display: flex;
                justify-context: space-between;
                margin-top: 30px;
            }

            button {
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-size: 16px;

            }

            .save-btn {
                background-color: #4CAF50;
                color: white;
            }

            cancel-btn {
                background-color:#f44336;
                color: white;
            }
            .unix-timestamp {
                color: #666;
                font-size: 0.9em;
                margin-top: 5px;
            }
            .time-selection {
                display: flex;
                gap: 10px;
            }
            .time-selection select {
                flex: 1;
            }
        </style>
    </head>
    <body>
        <h1>Add New Task</h1>
        <form id= "task-form">
            <div class="form-group">
                <label for="task-name">Task-name:</label>
                <input type="text" id="task-name" name="task-name" required>
            </div>

            <div class="form-group">
                <label for="task-description">Description:</label>
                <textarea id="task-description" name="task-description"></textarea>
            </div>

            <div class="form-group">
                <label for="assigned-time">Assigned Time:M/label>
                <div class="time-selection">
                    <select id="hour-select">
                        <option value="1"></option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9" selected>9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select>

                    <select id="minute-select">
                        <option value="00" slected>00</option>
                        <option value="15">15</option>
                        <option value="30">30</option>
                        <option value="45">45</option>
                    </select>

                    <select id="period-select">
                        <option value="AM" selected>AM</option>
                        <option value="PM">PM</option>
                    </select>
                </div>
                <div id="unix-timestamp" class="unix-timestamp">Unix Timestamp: </div>
            </div>

            <div class="button-group">
                <button type="button" class="cancel-btn" id="cancel-btn">Cancel</button>
                <button type="submit" class="save-btn">Save Task</button>
            </div>
        </form>
    </script>
        function updateUnixTimeStamp() {
            const dateInput = document.getElementById('due-date');
            const hourSelect = document.getElementById('hour-select');
            const minuteSelect = document.getElementById('minute-select');
            const periodSelect = document.getElementById('period-select');
            
            if (dateInput.value) {
                let hour = parseInt(hourSelect.value);
                const minute = minuteSelect.value;
                const period = periodSelect.value;

                if (period == "PM" && hour < 12) {
                    hour += 12;
                } else if (period === "AM" && hour === 12){
                    hour = 0;
                }
                const formattedHour = hour.toString().padStart(2, '0');
                const timeStr = `${formattedHour}:${minute}`;

                const dateTimeStr = `${dateInput.value}T${timeStr}:00`;
                const timestamp = Math.floor(new Date(dateTimeStr).getTime() / 1000)
                document.getElementById('unix-timestamp').textContent = `Unix Timestamp: ${timestamp}`;
            } 
        }

        document.getElementById('due-date').addEventListener('change', updateUnixTimestamp);
        document.getElementById('hour-select').addEventListener('change', updateUnixTimestamp);
        document.getElementById('minute-select').addEventListener('change', updateUnixTimestamp);
        document.getElementById('period-select').addEventListener('change', updateUnixTimestamp);

        const today = New Date();
        const year = today.getFullYear();
        const month = String(today.getMonth() + 1).padStart(2, '0');
        const day = String(today.getDate()).padStart(2, '0');
        document.getElementById('due-date').value = `${year}-${month}-${day}`;

        const currentHour = today.getHours();
        const current<inute = today.getMinutes();
        let roundedMinute;
        
        if (currentMinute < 8) roundedMinute = "00";
        else if (currentMinute < 23) roundedMinute = "15";
        else if (currentMiute < 38) roundedMinute = "30";
        else if (currentMinute < 53) roundedMinute = "45";
        else roundedMinute = "00";


</body>
</html>
